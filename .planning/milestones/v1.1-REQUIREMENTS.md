# Requirements Archive: v1.1 AI Intelligence & Multi-Action

**Archived:** 2026-02-09
**Status:** ✅ SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

## v1.1 Requirements

Requirements for AI Intelligence & Multi-Action milestone. Each maps to roadmap phases.

### Multi-Action AI

- [x] **MACT-01**: AI can return multiple actions in a single response (e.g., create 3 habits from one prompt)
- [x] **MACT-02**: Each action executes independently with per-action error handling (partial success supported)
- [x] **MACT-03**: AI can decompose a user intent into a parent habit with auto-generated sub-habits
- [x] **MACT-04**: AI can log multiple habits at once from a single user message (e.g., "finished my morning routine")
- [x] **MACT-05**: Chat response includes per-action success/failure status in structured format

### User Learning

- [x] **ULRN-01**: AI extracts key facts from chat messages and persists them to database
- [x] **ULRN-02**: Stored user facts are loaded into AI system prompt for personalized responses
- [x] **ULRN-03**: User can view all stored facts about themselves via API
- [x] **ULRN-04**: User can delete individual stored facts via API

### Image Processing

- [x] **IMGP-01**: Chat endpoint accepts image uploads (multipart/form-data)
- [x] **IMGP-02**: Images are sent to Gemini Vision multimodal API for analysis
- [x] **IMGP-03**: AI extracts structured information from images (titles, dates, amounts) and suggests habit creation
- [x] **IMGP-04**: Image-based suggestions require user confirmation before creating habits

### Routine Intelligence

- [x] **RTNI-01**: System analyzes habit log timestamps to detect recurring time-of-day patterns
- [x] **RTNI-02**: System warns when a new habit's scheduling conflicts with detected routine blocks
- [x] **RTNI-03**: System suggests available time slots for new habits based on routine gaps (triple-choice format)
- [x] **RTNI-04**: Routine suggestions include confidence scores based on pattern consistency

## Future Requirements

### Advanced Learning

- **ALRN-01**: Semantic search over stored facts using pgvector embeddings
- **ALRN-02**: Fact relevance scoring based on conversation context
- **ALRN-03**: Conversation history storage for session continuity

### Advanced Multimodal

- **AMMD-01**: Audio upload/recording support in chat interface
- **AMMD-02**: AI transcribes audio and separates venting from actionable items
- **AMMD-03**: Generates structured to-do list from audio for user approval

## Out of Scope

| Feature | Reason |
|---------|--------|
| Audio processing in backend | Frontend handles transcription, backend receives text |
| Calendar sync integration | Infer routines from logs instead — no external calendar dependency |
| Auto-execution without confirmation | EU AI Act compliance + user trust — always require confirmation for impactful actions |
| Real-time chat (WebSockets) | REST API is sufficient for v1.1 — defer to frontend milestone |
| Conversation history storage | Key facts are more efficient than full history — defer to v1.2+ |
| pgvector/embeddings | Start with chronological fact retrieval — add semantic search only if needed |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| MACT-01 | Phase 4 | ✓ Done |
| MACT-02 | Phase 4 | ✓ Done |
| MACT-03 | Phase 4 | ✓ Done |
| MACT-04 | Phase 4 | ✓ Done |
| MACT-05 | Phase 4 | ✓ Done |
| ULRN-01 | Phase 5 | ✓ Done |
| ULRN-02 | Phase 5 | ✓ Done |
| ULRN-03 | Phase 5 | ✓ Done |
| ULRN-04 | Phase 5 | ✓ Done |
| IMGP-01 | Phase 6 | ✓ Done |
| IMGP-02 | Phase 6 | ✓ Done |
| IMGP-03 | Phase 6 | ✓ Done |
| IMGP-04 | Phase 6 | ✓ Done |
| RTNI-01 | Phase 7 | ✓ Done |
| RTNI-02 | Phase 7 | ✓ Done |
| RTNI-03 | Phase 7 | ✓ Done |
| RTNI-04 | Phase 7 | ✓ Done |

**Coverage:**
- v1.1 requirements: 17 total
- Shipped: 17 (100%)
- Adjusted: 0
- Dropped: 0

---

## Milestone Summary

**Shipped:** 17 of 17 requirements
**Adjusted:** None — all requirements delivered as originally specified
**Dropped:** None

---
*Archived: 2026-02-09 as part of v1.1 milestone completion*

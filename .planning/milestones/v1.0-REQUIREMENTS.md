# Requirements Archive: v1.0 Backend Solidification

**Archived:** 2026-02-08
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: Orbit

**Defined:** 2026-02-07
**Core Value:** Users can track, build, and break habits with flexible scheduling, progress metrics, and AI-assisted management

## v1 Requirements

Requirements for this milestone. Each maps to roadmap phases.

### Infrastructure

- [x] **INFRA-01**: Database schema managed via EF Core migrations (replace EnsureCreated)
- [x] **INFRA-02**: Request validation via FluentValidation + MediatR pipeline behavior
- [x] **INFRA-03**: API documentation via Scalar + Microsoft.AspNetCore.OpenApi (replace Swashbuckle)
- [x] **INFRA-04**: JWT token handling via Microsoft.IdentityModel.JsonWebTokens (replace legacy library)

### Habits

- [x] **HABIT-01**: User can create a parent habit with child sub-habits as a checklist
- [x] **HABIT-02**: User can log individual sub-habits within a parent habit
- [x] **HABIT-03**: User can create a negative/bad habit that tracks slip-ups
- [x] **HABIT-04**: User can see "days since last slip" for negative habits
- [x] **HABIT-05**: User can add optional text notes when logging a habit

### Tags

- [x] **TAG-01**: User can create tags with a name and color
- [x] **TAG-02**: User can assign tags to habits
- [x] **TAG-03**: User can filter habits by one or more tags

### Metrics

- [x] **METR-01**: User can see current streak and longest streak for any habit (frequency-aware)
- [x] **METR-02**: User can see weekly and monthly completion rate for any habit
- [x] **METR-03**: User can see progress trends over time for quantifiable habits

### Profile

- [x] **PROF-01**: User can set their timezone for correct streak/metric calculation

### AI

- [x] **AI-01**: AI gracefully refuses out-of-scope requests instead of attempting invalid actions
- [x] **AI-02**: AI can create sub-habits via chat (e.g., "create morning routine with meditate, journal, stretch")
- [x] **AI-03**: AI suggests and assigns tags when creating habits via chat

### Cleanup

- [x] **CLEAN-01**: All task management code removed (entities, commands, queries, controllers, tests)

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| INFRA-01 | Phase 1 | ✓ Done |
| INFRA-02 | Phase 1 | ✓ Done |
| INFRA-03 | Phase 1 | ✓ Done |
| INFRA-04 | Phase 1 | ✓ Done |
| CLEAN-01 | Phase 1 | ✓ Done |
| HABIT-01 | Phase 2 | ✓ Done |
| HABIT-02 | Phase 2 | ✓ Done |
| HABIT-03 | Phase 2 | ✓ Done |
| HABIT-04 | Phase 2 | ✓ Done |
| HABIT-05 | Phase 2 | ✓ Done |
| TAG-01 | Phase 2 | ✓ Done |
| TAG-02 | Phase 2 | ✓ Done |
| TAG-03 | Phase 2 | ✓ Done |
| PROF-01 | Phase 2 | ✓ Done |
| METR-01 | Phase 3 | ✓ Done |
| METR-02 | Phase 3 | ✓ Done |
| METR-03 | Phase 3 | ✓ Done |
| AI-01 | Phase 3 | ✓ Done |
| AI-02 | Phase 3 | ✓ Done |
| AI-03 | Phase 3 | ✓ Done |

**Coverage:**
- v1 requirements: 20 total
- Shipped: 20
- Adjusted: 0
- Dropped: 0

---

## Milestone Summary

**Shipped:** 20 of 20 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-02-08 as part of v1.0 milestone completion*
